<!DOCTYPE html>
<html style="background-color:#0b0c10;color:#66fcf1">

<head>
        <script src="webauthn.js" type="text/javascript"></script>
        <script src="base64js/base64js-1.3.0.min.js" type="text/javascript"></script>
        <script src="requestBuilder.js" type="text/javascript"></script>
        <script src="view.js" type="text/javascript"></script>
        <link href="styles.css" rel="stylesheet" />
</head>

<body>

        <p>WebAuthn API Playground</p>

        <br>WebAuthn Request Type </br>
        <form>
                <select name="webAuthnRequestTypeMenu" style="background-color: #c5c6c7" onchange="displayOptions()">
                        <option></option>
                        <option>get</option>
                        <option>create</option>
                </select>
        </form>
        <br></br>

        <div id="getOptions" style="display:none;background-color:#45a29e;color:#1f2833">
                <table border="1">
                        <tr style="background-color:#1f2833; color:#45a29e">
                                <td>1. Pick your WebAuthn Request Options</td>
                                <td>2. Build and manipulate your request.</td>
                                <td>3. See your WebAuthn Response.</td>
                        </tr>
                        <td valign="top">
                                GenerateRandomChallenge
                                <form>
                                        <select style="background-color: #c5c6c7"
                                                name="doGenerateRandomChallengeGetMenu">
                                                <option>true</option>
                                                <option>false</option>
                                        </select>
                                </form>

                                <br>RP ID</br>
                                <form>
                                        <input style="background-color: #c5c6c7" type="text" name="rpIdGetMenu"
                                                value="localhost">
                                </form>

                                <br>User Verification</br>
                                <form>
                                        <select name="userVerificationGetMenu" style="background-color: #c5c6c7">
                                                <option>preferred</option>
                                                <option>required</option>
                                                <option>discouraged</option>
                                                <option>null (default)</option>
                                        </select>
                                </form>

                                <br>Timeout</br>
                                <form>
                                        <input type="text" name="timeoutGetMenu" value="15000"
                                                style="background-color: #c5c6c7">
                                </form>


                                <br>allowCredentialId</br>
                                <form>
                                        <input type="text" name="allowCredentialsIdGetMenu" value=""
                                                style="background-color: #c5c6c7">
                                </form>

                                <br>Allow Credential Transports</br>
                                <form>
                                        <select name="allowCredentialsTransportsGetMenu" multiple
                                                style="background-color: #c5c6c7">
                                                <option>nfc</option>
                                                <option>usb</option>
                                                <option>ble</option>
                                                <option>internal</option>
                                                <option selected>null (default)</option>
                                        </select>
                                </form>
                        </td>
                        <td valign="top">
                                <button onclick="buildGetRequest()">buildGetRequest</button>
                                <button onclick="authenticate()">Authenticate</button>
                                <br>Here is your webauthn request </br>

                                <textarea rows=50 cols=75 id="getBuilderArea"></textarea>
                        </td>
                        <td valign="top">
                                <button onclick="hide('webauthGetRequest')">Click Here To Show/Hide Encoded
                                        WebAuthn
                                        Request</button>

                                <div id="webauthGetRequest" style="display:none"><br>Encoded WebAuthn
                                        Request</br>
                                </div>

                                <br></br>
                                <br>WebAuthn Response</br>
                                <textarea rows=50 cols=75 id="webauthGetResponse"></textarea>
                        </td>
                        </tr>
                </table>

        </div>


        <div id="createOptions" style="display:none;background-color:#45a29e;color:#1f2833">
                <table border="1">
                        <tr style="background-color:#1f2833; color:#45a29e">
                                <td>1. Pick your WebAuthn Request Options</td>
                                <td>2. Build and manipulate your request.</td>
                                <td>3. See your WebAuthn Response.</td>
                        </tr>
                        <tr>
                                <td valign="top">
                                        GenerateRandomChallenge
                                        <form>
                                                <select name="doGenerateRandomChallengeCreateMenu"
                                                        style="background-color: #c5c6c7">
                                                        <option>true</option>
                                                        <option>false</option>
                                                </select>
                                        </form>

                                        <br>RP ID</br>
                                        <form>
                                                <input type="text" name="rpIdCreateMenu" value="localhost"
                                                        style="background-color: #c5c6c7">
                                        </form>

                                        <br>User Verification</br>
                                        <form>
                                                <select name="userVerificationCreateMenu"
                                                        style="background-color: #c5c6c7">
                                                        <option selected>preferred</option>
                                                        <option>required</option>
                                                        <option>discouraged</option>
                                                        <option>null (default)</option>
                                                </select>
                                        </form>

                                        <br>Authenticator Attachment</br>
                                        <form>
                                                <select name="authenticatorAttachmentCreateMenu"
                                                        style="background-color: #c5c6c7">
                                                        <option>platform</option>
                                                        <option selected>cross-platform</option>
                                                        <option>null (default)</option>
                                                </select>
                                        </form>


                                        <br>Resident Key Required</br>
                                        <form>
                                                <select name="requireResidentKeyCreateMenu"
                                                        style="background-color: #c5c6c7">
                                                        <option>true</option>
                                                        <option>false</option>
                                                        <option>null (default)</option>
                                                </select>
                                        </form>

                                        <br>Timeout</br>
                                        <form>
                                                <input type="text" name="timeoutCreateMenu" value="15000"
                                                        style="background-color: #c5c6c7">
                                        </form>


                                        <br>allowCredentialId</br>
                                        <form>
                                                <input type="text" name="allowCredentialsIdCreateMenu" value=""
                                                        style="background-color: #c5c6c7">
                                        </form>

                                        <br>Allow Credential Transports</br>
                                        <form>
                                                <select name="allowCredentialsTransportsCreateMenu" multiple
                                                        style="background-color: #c5c6c7">
                                                        <option>nfc</option>
                                                        <option>usb</option>
                                                        <option>ble</option>
                                                        <option>internal</option>
                                                        <option selected>null (default)</option>
                                                </select>
                                        </form>

                                        <br>Attestation</br>
                                        <form>
                                                <select name="attestationCreateMenu" multiple
                                                        style="background-color: #c5c6c7">
                                                        <option selected>direct</option>
                                                        <option>indirect</option>
                                                        <option>none</option>
                                                        <option>null (default)</option>
                                                </select>
                                        </form>

                                        <br>Algorithm</br>
                                        <form>
                                                <input type="text" name="algorithmCreateMenu" value="-7"
                                                        style="background-color: #c5c6c7">
                                        </form>

                                        <br>UserName</br>
                                        <form>
                                                <input type="text" name="userNameCreateMenu" value="Bobby@localhost.com"
                                                        style="background-color: #c5c6c7">
                                        </form>

                                        <br>UserId</br>
                                        <form>
                                                <input type="text" name="userIdCreateMenu" value="UZSL85T9AFC"
                                                        style="background-color: #c5c6c7">
                                        </form>

                                        <br>UserDisplayName</br>
                                        <form>
                                                <input type="text" name="userDisplayNameCreateMenu" value="Bobby"
                                                        style="background-color: #c5c6c7">
                                        </form>

                                        <br>ExcludeCredentials</br>
                                        <form>
                                                <select name="excludeCredentialsCreateMenu" multiple
                                                        style="background-color: #c5c6c7">
                                                        <option>Bobby(with transport "USB")</option>
                                                        <option selected>null</option>
                                                </select>
                                        </form>



                                </td>
                                <td valign="top">
                                        <button onclick="buildCreateRequest()">buildCreateRequest</button>
                                        <button onclick="register()">Register</button>
                                        <br>Here is your webauthn request </br>

                                        <textarea rows=50 cols=75 id="createBuilderArea"></textarea>
                                </td>
                                <td valign="top">
                                        <button onclick="hide('webauthCreateRequest')">Click Here To Show/Hide Encoded
                                                WebAuthn
                                                Request</button>

                                        <div id="webauthCreateRequest" style="display:none"><br>Encoded WebAuthn
                                                Request</br>
                                        </div>

                                        <br></br>
                                        <br>WebAuthn Response</br>
                                        <textarea rows=50 cols=75 id="webauthCreateResponse"></textarea>
                                </td>

                        </tr>
                </table>
        </div>


        <div style="background-color:#0b0c10">
                <br>
                <button onclick="hide('samples')">Click Here To Show/Hide Samples</button>
                </br>

                <div id="samples" style="display:none;color:#66fcf1">
                        <br>
                        {"challenge":"cZi2ThKn1BNk1vhF3VUeCT1c4L9o1WoH9ynNMBNe8Wc","rpId":"localhost","userVerification":"preferred","extensions":{"appid":"https://localhost:3000"}}</br>
                        <br>
                        {"challenge":"MC4wMDk0OTQ2NTMwODMyNMC4xODU5ODE4OTM2Mzc2M","rpid":"localhost","userVerification":"preferred","timeout":"15000","allowCredentials":[{"type":"public-key","transports":["nfc","ble","internal"],"id":"sVrhyibg791KNdlzr0D5zA"}]}</br>
                </div>
                <br>
                <button onclick="hide('history')">Click Here To Show/Hide History</button>
                </br>

                <div id="history" style="display:none">
                        <textarea style="background-color:#0b0c10;color:#66fcf1" rows=4 cols=200
                                id="historyArea"></textarea>
                </div>
        </div>



</body>

</html>